<!doctype html><html class=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=2, initial-scale=1, user-scalable=yes"><link rel="icon" href="data:;base64,="><link rel="stylesheet" type="text/css" href="/styles/main.css"><title>Language Design: Case Conventions</title><link rel="alternate" type="application/atom+xml" title="Mitranim's Posts (Atom)" href="/feed.xml"><link rel="alternate" type="application/rss+xml" title="Mitranim's Posts (RSS)" href="/feed_rss.xml"><meta name="author" content="Nelo Mitranim"><meta property="og:title" content="Language Design: Case Conventions"><meta name="description" content="Objective arguments to solve case conventions and move on"><meta property="og:site_name" content="about:mitranim"></head><body id="top" class="flex col-sta-str" style="min-height: 100vh"><header class="wid-lim --unpadded flex row-sta-str mar-bot-2 gap-hor-1"><nav class="flex row-sta-str"><a href="/" class="navlink --busy">home</a><a href="/works" class="navlink --busy">works</a><a href="/posts" class="navlink --busy">posts</a></nav><span class="flex-1"></span><span class="fg-blue flex row-cen-cen pad-1 sm-hide">Updated: Jan 21 2022</span></header><div role="main" id="main" class="wid-lim fan-typo"><article role="article" class="fan-typo"><h1><span class="heading-prefix" aria-hidden="true"></span>Language Design: Case Conventions</h1><p role="doc-subtitle" class="size-large italic">Objective arguments to solve case conventions and move on</p><p class="fg-gray-close size-small">published Oct 16 2020</p><p><strong>TLDR</strong>: Identifiers in programming languages should use only <code>snake_case</code>, <code>Title_snake_case</code>, <code>UPPER_SNAKE_CASE</code>, ignore abbreviations, and be limited to ASCII alphanumerics with <code>_</code>.</p>

<p>This post will also touch on the structure of identifiers.</p>

<p>There was an earlier, more specialized post: <a href="/posts/camel-case-abbr">Don&rsquo;t Abbreviate In Camel-Case</a>. This one is more general.</p>
<h2 id="lower-case"><span class="heading-prefix" aria-hidden="true"></span>Lower case<a href="#lower-case" class="heading-anchor" aria-hidden="true"></a></h2>
<p><em>Objective</em> arguments in favor of <code>snake_case</code> over <code>camelCase</code>:</p>

<ul>
<li>Works in case-insensitive systems such as SQL.</li>
<li>Can remap <code>_</code> to type without Shift. (I did.)</li>
<li>Unambiguously convertible when numbers are involved.</li>
</ul>

<p>Conversion:</p>

<pre><code>one_123_two &lt;-&gt; one 123 two

one123two   &lt;-&gt; one123two
one123two   &lt;-&gt; one123 two
one123two   &lt;-&gt; one 123 two

one123Two   &lt;-&gt; one123 two
one123Two   &lt;-&gt; one 123 two
</code></pre>
<h2 id="title-case"><span class="heading-prefix" aria-hidden="true"></span>Title case<a href="#title-case" class="heading-anchor" aria-hidden="true"></a></h2>
<p><em>Objective</em> arguments in favor of <code>Title_snake_case</code> over <code>TitleCamelCase</code>:</p>

<ul>
<li>Can properly support abbreviations, for example <code>XML_HTTP_request</code>. No schizophrenia such as <code>XMLHttpRequest</code>.</li>
<li>Can remap <code>_</code> to type without Shift. Titled identifiers require only one Shift press. (I did.)</li>
<li>Consistent with <code>snake_case</code> in a language that uses it for lowercase identifiers.</li>
<li>Unambiguously convertible when numbers are involved.</li>
</ul>

<p>Conversion:</p>

<pre><code>One_123_two &lt;-&gt; one 123 two

One123two   &lt;-&gt; one123two
One123two   &lt;-&gt; one123 two
One123two   &lt;-&gt; one 123 two

One123Two   &lt;-&gt; one123 two
One123Two   &lt;-&gt; one 123 two
</code></pre>
<h2 id="abbreviations"><span class="heading-prefix" aria-hidden="true"></span>Abbreviations<a href="#abbreviations" class="heading-anchor" aria-hidden="true"></a></h2>
<p><em>Objective</em> arguments in favor of avoiding abbreviations, for example <code>Json_encoder</code> over <code>JSON_encoder</code>, or <code>JsonEncoder</code> over <code>JSONEncoder</code>:</p>

<ul>
<li>Fewer rules.</li>
<li>Less thinking.</li>
<li>Simpler code.</li>
<li>No schizophrenia such as <code>XMLHttpRequest</code>.</li>
</ul>

<p>Example from work.</p>

<p>At some point I had contact with a code base involving generating Go code from Swagger. The generator had a variety of special cases for <code>id</code>, <code>xml</code>, and some other abbreviations. A field named <code>xml_setting_id</code> would become <code>XMLSettingID</code>. However, if you used an abbreviation <em>unknown</em> to the generator, for example XSD (XML Schema Definition), <code>xsd_setting_id</code> would become <code>XsdSettingID</code>.</p>

<p>The goal was noble: be consistent with the Go standard library, which stupidly uses abbreviations, for example <code>MarshalXML</code>. But unlike the standard library, you couldn&rsquo;t just remember &ldquo;abbreviations are uppercase&rdquo;, your brain needed the database of the <em>exact</em> abbreviations special-cased in that generator. So don&rsquo;t. Don&rsquo;t use abbreviations in identifiers, and don&rsquo;t special-case them in code generators or parsers.</p>
<h2 id="characters"><span class="heading-prefix" aria-hidden="true"></span>Characters<a href="#characters" class="heading-anchor" aria-hidden="true"></a></h2>
<p><em>Objective</em> arguments in favor of restricting identifiers to ASCII alphanumerics with <code>_</code>:</p>

<ul>
<li>Interoperable between all languages.</li>
<li>Works in all encodings.</li>
<li>Works in all Latin keyboard layouts.</li>
</ul>

<p>Example from work.</p>

<p>At some point, we at Purelab were using Clojure and Datomic to build apps. Clojure symbols (Lisp equivalent of identifiers) use <code>kebab-case</code> and may contain operator characters such as <code>-?</code>. Booleans are expected to end with a question: <code>hidden?</code> instead of <code>is_hidden</code>.</p>

<p>Datomic has its own idiosyncrasy: column names are global and include the entity type. So, instead of this:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> persons (is_email_verified bool <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">false</span>);
</pre>
<p>&hellip;you use this:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822">{<span style="color:#e6db74">:db/ident</span>     <span style="color:#e6db74">:person/email-verified?</span>
 <span style="color:#e6db74">:db/valueType</span> <span style="color:#e6db74">:db.type/boolean</span>}
</pre>
<p>For simplicity, let&rsquo;s suppose we use Postgres, and have a JS client. You have to either break the SQL and JS conventions by quoting the field:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> persons (<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">email-verified?</span><span style="color:#e6db74">&#34;</span> bool <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">false</span>);
</pre><pre tabindex="0" style="color:#f8f8f2;background-color:#272822"><span style="color:#a6e22e">person</span>[<span style="color:#e6db74">&#39;email-verified?&#39;</span>]
</pre>
<p>&hellip;or break the Clojure convention by using the interoperable format:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822"><span style="color:#e6db74">:is_email_verified</span>
</pre><h2 id="footnote-on-lisp-symbols"><span class="heading-prefix" aria-hidden="true"></span>Footnote on Lisp symbols<a href="#footnote-on-lisp-symbols" class="heading-anchor" aria-hidden="true"></a></h2>
<p>Lisps allow identifiers like <code>email-verified?</code> because they don&rsquo;t distinguish identifiers and operators. They just have &ldquo;symbols&rdquo;. This has various problems.</p>

<ul>
<li>People define custom operators, creating inscrutable code. Popular in Haskell. What the hell is <code>&gt;&gt;=</code>? With <code>bind</code>, you can at least start <em>guessing</em> the purpose, or pronounce it, or google it, what a feat!</li>
<li>Leads to hacks like embedding <code>: / .</code> in symbols to implement namespacing (Common Lisp, Clojure). This requires re-parsing the symbol, something the AST should have done for you. Clojure symbols are classes with &ldquo;namespace&rdquo; and &ldquo;name&rdquo; parts, indicating that they were combined prematurely. The AST should split alphanumerics and operators from the start.</li>
</ul>
<h2 id="conclusion"><span class="heading-prefix" aria-hidden="true"></span>Conclusion<a href="#conclusion" class="heading-anchor" aria-hidden="true"></a></h2>
<p>When making a language, follow the conventions listed at the top. Let&rsquo;s solve this forever and move on.</p>
</article><hr><p>This blog currently doesn't support comments. Write to me via <a href="/#contacts">contacts</a>.</p><p class="inl-flex row-sta-sta gap-hor-0x5"><span>Subscribe using one of:</span><a href="/feed.xml" class="decorate-link" target="_blank" rel="noopener noreferrer">Atom<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; width: 1.5ex; height: 1.5ex; margin-left: 0.3ch;" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" y1="14" x2="21" y2="3" /></svg></a><a href="/feed_rss.xml" class="decorate-link" target="_blank" rel="noopener noreferrer">RSS<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; width: 1.5ex; height: 1.5ex; margin-left: 0.3ch;" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" y1="14" x2="21" y2="3" /></svg></a><a href="https://feedly.com/i/subscription/feed/https://mitranim.com/feed.xml" class="decorate-link" target="_blank" rel="noopener noreferrer">Feedly<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; width: 1.5ex; height: 1.5ex; margin-left: 0.3ch;" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" y1="14" x2="21" y2="3" /></svg></a></p></div><footer style="margin-top: auto"><div class="wid-lim flex row-bet-cen mar-top-4 mar-bot-2"><span class="flex-1 flex row-sta-sta gap-hor-0x5"><span class="text-lef">2014—2022</span><a href="https://github.com/mitranim/mitranim.github.io" class="decorate-link" target="_blank" rel="noopener noreferrer">website source<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; width: 1.5ex; height: 1.5ex; margin-left: 0.3ch;" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" y1="14" x2="21" y2="3" /></svg></a></span><span class="flex-1 text-cen"><a href="/#contacts" class="decorate-link">touch me</a></span><span class="flex-1 flex row-end-cen gap-hor-0x5"><a href="#top" class="fill-gray-fg-close pad-1 busy-bg-gray-close" onclick="event.preventDefault(); window.scrollTo(0, 0)" aria-label="scroll up"><svg class="svg-icon fill-fg" viewBox="0 0 448 512" width="1em" height="1em"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></span></div></footer></body></html>